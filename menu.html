<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>قائمة الطعام - Salcha</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      background-color: #fff;
      text-align: center;
    }

    h1 {
      margin: 20px 0;
      color: #0d47a1;
    }

    .menu {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      padding: 20px;
    }

    .card {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
    }

    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
    }

    .card h3 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 1.3em;
      background: rgba(0,0,0,0.5);
      padding: 5px 10px;
      border-radius: 6px;
      white-space: nowrap;
    }

    .items {
      display: none;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      padding: 20px;
    }

    .item {
      background: #f9f9f9;
      border-radius: 8px;
      padding: 10px;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .item img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 6px;
      margin-bottom: 5px;
    }

    .quantity-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 8px 0;
      gap: 5px;
    }

    .quantity-controls button {
      padding: 4px 10px;
      font-size: 0.9em;
      cursor: pointer;
    }

    .quantity-controls input {
      width: 35px;
      text-align: center;
      font-size: 0.9em;
    }

    .btn {
      display: inline-block;
      padding: 6px 12px;
      background: #25D366;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-size: 0.9em;
    }

    #cartBtn {
      margin: 20px;
      padding: 12px 20px;
      font-size: 1em;
      background: #ff5722;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>قائمة الطعام</h1>

  <!-- شبكة الفئات -->
  <div class="menu">
    <div class="card" onclick="toggleItems('paniniItems')">
      <img src="panini2.jpg" alt="بانيني">
      <h3>🥪 بانيني</h3>
    </div>

    <div class="card" onclick="toggleItems('pizzaItems')">
      <img src="pizzamargarita.jpg" alt="بيتزا">
      <h3>🍕 بيتزا</h3>
    </div>

    <div class="card" onclick="toggleItems('moroccanItems')">
      <img src="couscous.jpg" alt="مغربي">
      <h3>🇲🇦 أطباق مغربية</h3>
    </div>

    <div class="card" onclick="toggleItems('drinksItems')">
      <img src="tea.jpg" alt="مشروبات">
      <h3>🥤 مشروبات</h3>
    </div>

    <div class="card" onclick="toggleItems('dessertItems')">
      <img src="chocolat.jpg" alt="حلويات">
      <h3>🍰 حلويات</h3>
    </div>
  </div>

  <!-- الحاويات لعرض المنتجات -->
  <div id="paniniItems" class="items"></div>
  <div id="pizzaItems" class="items"></div>
  <div id="moroccanItems" class="items"></div>
  <div id="drinksItems" class="items"></div>
  <div id="dessertItems" class="items"></div>

  <button id="cartBtn" onclick="sendCart()">📩 إرسال الطلب عبر واتساب</button>

  <script>
    const cart = {};

    const paniniTypes = [
      {name: "panini dinde", price: 35, img:"panini2.jpg"},
      {name: "panini viande hachee", price: 40, img:"paninikefta.jpg"},
      {name: "panini thon", price: 38, img:"paninithon.jpg"},
      {name: "panini mixte", price: 30, img:"pani.jpg"},
      {name: "panini special", price: 32, img:"paninimohssine.jpg"},
      {name: "panini thonfromage", price: 45, img:"paninithonfrmaj.jpg"},
      {name: "panini saussisse", price: 42, img:"paninisaussisse.jpg"},
      {name: "panini keftafromage", price: 50, img:"panini3.jpg"}
    ];

    const pizzaTypes = [
      {name: "pizza margarita", price: 50, img:"pizzamargarita.jpg"},
      {name: "pizza mixte", price: 55, img:"pizzamixte.jpg"},
      {name: "pizza sucuk", price: 60, img:"pizzasucuk.jpg"},
      {name: "pizza thon", price: 58, img:"pizzathon.jpg"},
      {name: "pizza kefta", price: 65, img:"pizzakefta.jpg"}
    ];

    const moroccanTypes = [
      {name:"couscous", price:70, img:"couscous.jpg"},
      {name:"tajine kefta", price:80, img:"tajine.jpg"},
      {name:"tajine le7m b lbr9o9", price:85, img:"tajinebr.jpg"},
      {name:"djaj b dghmira", price:90, img:"djaj.jpg"},
      {name:"rfissa", price:40, img:"rfissa.jpg"}
    ];

    const drinksTypes = [
      {name:"moroccan tea", price:15, img:"tea.jpg"},
      {name:"orange juice", price:20, img:"orange.jpg"},
      {name: "ananas juice", price:20, img:"ananas.jpg"},
      {name:"mango juice", price:10, img:"mango.jpg"},
      {name:"avocado juice", price:15, img:"avoca.jpg"}
    ];

    const dessertTypes = [
      {name:"ke3b ghzal", price:25, img:"ke3B.jpg"},
      {name:"redvelvet", price:20, img:"redvelvet.jpg"},
      {name:"chocolat cake", price:30, img:"chocolat.jpg"},
      {name:"knafa", price:20, img:"kunefe.jpg"},
      {name:"millefeuille", price:25, img:"mille.jpg"}
    ];

    function toggleItems(id) {
      const all = document.querySelectorAll(".items");
      all.forEach(div => div.style.display = "none");

      const container = document.getElementById(id);
      if(container.innerHTML.trim() === "") {
        let types;
        switch(id) {
          case "paniniItems": types = paniniTypes; break;
          case "pizzaItems": types = pizzaTypes; break;
          case "moroccanItems": types = moroccanTypes; break;
          case "drinksItems": types = drinksTypes; break;
          case "dessertItems": types = dessertTypes; break;
        }
        types.forEach(p => {
          const div = document.createElement('div');
          div.className = 'item';
          div.innerHTML = `
            <img src="${p.img}" alt="${p.name}">
            ${p.name} - ${p.price} درهم<br>
            <div class="quantity-controls">
              <button onclick="changeQty(event, -1)">-</button>
              <input type="text" value="1" readonly>
              <button onclick="changeQty(event, 1)">+</button>
            </div>
            <a href="#" onclick="addToCart(event, '${p.name}', ${p.price})" class="btn">أضف للطلب</a>
          `;
          container.appendChild(div);
        });
      }
      container.style.display = "grid";
      window.scrollTo({top: container.offsetTop, behavior: 'smooth'});
    }

    function changeQty(event, delta) {
      event.stopPropagation();
      const input = event.target.parentElement.querySelector('input');
      let val = parseInt(input.value);
      val += delta;
      if(val < 1) val = 1;
      input.value = val;
    }

    function addToCart(event, itemName, price) {
      event.preventDefault();
      const quantity = parseInt(event.target.parentElement.querySelector('input').value);
      if(cart[itemName]) {
        cart[itemName].qty += quantity;
      } else {
        cart[itemName] = {qty: quantity, price: price};
      }
      alert(itemName + " تمت إضافته للطلب (" + cart[itemName].qty + ")");
    }

    function sendCart() {
      if(Object.keys(cart).length === 0) {
        alert("الرجاء إضافة عناصر إلى الطلب أولاً.");
        return;
      }
      let message = "مرحباً، أريد الطلب:\n";
      for(const item in cart) {
        message += item + " x " + cart[item].qty + " = " + (cart[item].price * cart[item].qty) + " درهم\n";
      }
      const encoded = encodeURIComponent(message);
      window.open("https://wa.me/212771313707?text=" + encoded, "_blank");
    }
  </script>
</body>
</html>